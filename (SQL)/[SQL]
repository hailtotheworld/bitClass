-- 데뷔일자

drop procedure if exists ifT;

delimiter $$
create procedure ifT()
begin
	declare days int;
    declare today date;
    declare debutDate date;
    
    set today = current_date();
    select debut_date into debutDate from member where mem_id='GRL';
    set days = datediff(today, debutDate);
    
	if(days/365>5) then
    select concat('5년 이상이네요. 데뷔한지',days,'지났습니다.');
	elseif(days/365<5) then
    select concat('5년미만이네요. 데뷔한지',days,'지났습니다.');
    end if;
    
end $$
delimiter ;

call ifT();


drop procedure if exists whileT;

delimiter $$
create procedure whileT()
begin
	declare i int;
    declare sum int;
    set sum=0;
    set i=1;
    
    while(i<=100) do
    set sum=sum+i;
    set i=i+1;
    end while;
    
    select sum as '1~100합';
end $$
delimiter ;

call whileT();

























drop procedure if exists whileT2;
delimiter $$
create procedure whileT2()
begin
	declare i int;
    declare sum int;
    
    set i=1;
    set sum=0;
    
    myWhile:
    while(i<=100) do
    if(i%4=0) then
        set i=i+1;
    iterate myWhile;
    end if;
    set sum=sum+i;
        set i=i+1;
    if(sum>1000) then
    leave myWhile;
    end if;

	end while;
    
    select sum;
    
end $$
delimiter ;

call whileT2();



